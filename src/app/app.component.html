<ng-container *ngIf="httpService.devType">
  <nz-layout class="layout" style="background: white">

    <!--    头部-->
    <!--    头部-->
    <!--    头部-->
    <!--    头部-->
    <nz-header class="vd-header"
               style="
               position:relative;
               width:100%;
               z-index: 100;
               padding: 0 18.75vw"
    >

      <div (click)="open()" class="logo"></div>


      <ul class="vd-userarea">
        <!-- <li *ngIf="!httpService.user?.vipFlag" class="vd-vipicon">会员</li> -->
        <ng-container *ngIf="!httpService.user; else logined">
          <li (click)="showModal($event)" style="margin-left: 25px;color:#333">登录</li>
          <li>|</li>
          <li routerLink="register" style="color: #333">注册</li>
        </ng-container>
        <ng-template #logined>
          <li [nzContent]="contentTemplate" nz-popover nzTitle="" nzTrigger="hover" style="color: #333">

            用户名：{{httpService.user?.mobile}}</li>
        </ng-template>
      </ul>

      <!-- 导航 -->
      <!-- 导航 -->
      <!-- 导航 -->
      <!-- 导航 -->
      <!-- 导航 -->
      <ul
        [nzMode]="'horizontal'"
        [nzTheme]=""
        class="vd-header-nav"
        nz-menu
        style="line-height: 64px;">
        <li [nzSelected]="activeUrl==='/index'"
            nz-menu-item
            routerLink="/index"
            routerlinkactive="ant-menu-item-selected"
            style="outline: none;width: auto;padding: 0 20px; margin-left: 10px"
        >首页</li>
        <li [nzSelected]="activeUrl==='/development'"
            nz-menu-item
            routerLink="/development"
            routerlinkactive="ant-menu-item-selected"
            style="outline: none;width: auto;padding: 0 20px;margin-left: 10px "
        >发展之路</li>
        <li [nzSelected]="activeUrl==='/profession'"
            nz-menu-item
            routerLink="/profession"
            routerlinkactive="ant-menu-item-selected"
            style="outline: none;width: auto;padding: 0 20px; margin-left: 10px"
        >职业菜单</li>
        <li [nzSelected]="activeUrl==='/profession'"
            nz-menu-item
            routerLink="/profession"
            routerlinkactive="ant-menu-item-selected"
            style="outline: none;width: auto;padding: 0 20px;margin-left: 10px ">高考咨询</li>
      </ul>
    </nz-header>

    <!-- 内容 -->
    <nz-content>
      <router-outlet></router-outlet>
    </nz-content>


    <!--广告位-->
    <!--广告位-->
    <!--广告位-->

    <div class="vd-box" style="background: none">
      <img alt="" class="li-ad-img shadow-box" src="../../assets/广告位.png">
    </div>


    <!--    共用底部-->
    <div class="vd-slogan-wrapper">
      <div class="vd-slogan">
        <p>现在就去注册，为自己的职业发展做选择</p>
        <span>职场司南，专注于大学生及毕业五年内群体的职业发展</span>
        <br>
        <button [hidden]="activeUrl !== '/index'" nz-button nzSize="large" nzType="primary">专业的指导意见</button>
      </div>

    </div>

    <style>
      .li-footer > .nav > li:hover {
        color: #fff;
        cursor: pointer;
      }

      .li-footer > .nav > li:active {
        color: #fff;
        cursor: pointer;
        border: none;
        outline: none;
      }

      .li-footer > .nav > li {
        outline: none;
      }

    </style>

    <div class="li-footer">
      <ul class="nav">
        <li
          routerLink="/index"
          routerlinkactive="ant-menu-item-selected"
        >
          首页
        </li>
        <li
          routerLink="/development"
          routerlinkactive="ant-menu-item-selected"
        >
          发展之路
        </li>
        <li
          routerLink="/profession"
          routerlinkactive="ant-menu-item-selected"
        >
          职业菜单
        </li>
        <li>
          活动中心
        </li>
        <li>
          个人中心
        </li>
      </ul>
      <p>
        Copyright © 2018-2019 职场司南 浙ICP备18039212号 &nbsp; &nbsp; <i nz-icon nzTheme="outline" nzType="phone"></i> 0571-85383155
      </p>

      <img alt="" src="../assets/嘻嘻.png">
    </div>
  </nz-layout>
</ng-container>


<!-- 移动端首页 -->
<ng-container *ngIf="!httpService.devType">
  <nz-layout class="layout" style="position: relative;min-height: 100vh;left: 0;top: 0;">
    <nz-header class="vd-header mb-header" style="position:fixed; width:100%;z-index: 100;box-shadow:0 3px 3px 0 rgba(0, 0, 0, 0.1);padding: 0 16px;display: flex;align-items: center;justify-content: space-between">
      <div class="logo mb-logo"></div>
      <!--<ul class="vd-userarea mb-headerCollapse" nz-popover nzTitle="" style="padding: 16px 0;" [nzContent]="contentTemplate"-->
      <!--[(nzVisible)]="popoverVisible" nzTrigger="click" nzPlacement="bottomRight">-->
      <!--<i nz-icon nzType="bars" nzTheme="outline"></i>-->
      <!--</ul>-->
      <img [(nzVisible)]="popoverVisible" [nzContent]="contentTemplate" alt="图标" class="daohangIcon" nz-popover nzPlacement="bottomRight" nzTrigger="click" src="../assets/daohang.png">
    </nz-header>
    <nz-content style="margin-top:64px;background: #f2f2f2">
      <!-- <nz-carousel [nzEffect]="effect" [nzAutoPlay]="true">
        <div nz-carousel-content *ngFor="let index of bannerlist" [routerLink]="'../vd/'+index.courseId"
          style="cursor: pointer;">
          <div class="mb-banneritem" [ngStyle]="{'background-image': 'url('+ index.imageUrl +')'}"></div>
        </div>
      </nz-carousel> -->
      <router-outlet></router-outlet>
    </nz-content>
    <div style="height: 320px;width: 100vw"></div>
    <!--移动端底部-->
    <nz-footer class="mb-footer">
      <div class="mb-menu">
        <span (click)="popoverHiding()" routerLink="/index">首页</span>
        <span>|</span>
        <span (click)="popoverHiding()" routerLink="/development">发展之路</span>
        <span>|</span>
        <span (click)="popoverHiding()" routerLink="/profession">职业菜单</span>
        <span>|</span>
        <span>活动中心</span>
        <span>|</span>
        <span (click)="popoverHiding()" routerLink="/usercenter">个人中心</span>
      </div>
      <p>Copyright © 2018-2019 职场司南 浙ICP备18039212号</p>
      <div class="telBox">
        <img alt="电话" src="../assets/tel.png">
        <span>0571-85383155</span>
      </div>
      <div class="qrCode">
        <img alt="微信公众号二维码" src="../assets/qrCode.png">
      </div>
      <p>微信公众号</p>
    </nz-footer>
  </nz-layout>
</ng-container>

<div id="pay-wrapper" style="display: none;"></div>
<ul class="vd-fixed">
  <li (click)="httpService.openPayModal()" *ngIf="!httpService.user?.vipFlag">
    <img src="../assets/user-vip.png">成为会员
  </li>
  <li (click)="call()" style="border-top: 1px solid #eee;">
    <img src="../assets/share.png">分享
  </li>
</ul>
<!-- 登录弹窗 -->
<nz-modal (nzOnCancel)="closeModal()" [(nzVisible)]="httpService.loginModal" [nzBodyStyle]="{padding: 0}" [nzFooter]="null" [nzTitle]=""
          [nzWidth]="320" nzClassName="loginModal">
  <div class="vd-login">
    <h1>登录</h1>
    <br/>
    <form (ngSubmit)="login()" [formGroup]="validateForm" class="login-form" nz-form style="margin: 0 auto;">
      <nz-form-item>
        <nz-form-control>
          <nz-input-group [nzPrefix]="prefixUser">
            <input formControlName="username" nz-input placeholder="请输入您的手机号" type="text"/>
          </nz-input-group>
          <nz-form-explain *ngIf="validateForm.get('username')?.dirty && validateForm.get('username')?.errors">
            请输入您的手机号!
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control>
          <nz-input-group [nzPrefix]="prefixLock">
            <input formControlName="password" nz-input placeholder="请输入您的密码" type="password"/>
          </nz-input-group>
          <nz-form-explain *ngIf="validateForm.get('password')?.dirty && validateForm.get('password')?.errors">
            请输入您的密码
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item style="padding-bottom: 0;">
        <nz-form-control>
          <button [disabled]="validateForm.invalid" [nzType]="'primary'" class="login-form-button" nz-button>登录</button>
          <a (click)="closeModal()" routerLink="/register">去注册</a>
          <a (click)="closeModal()" class="login-form-forgot" routerLink="/passport">忘记密码</a>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
</nz-modal>
<ng-template #prefixUser><i nz-icon type="user"></i></ng-template>
<ng-template #prefixLock><i nz-icon type="lock"></i></ng-template>
<!-- 个人中心 -->
<ng-template #contentTemplate>
  <ng-container *ngIf="!httpService.devType">
    <p (click)="popoverHiding()" class="vd-popoveritem mb-navlist" routerLink="/index"
       style="border-bottom: 1px solid #eee;"><a>首页</a></p>
    <p (click)="popoverHiding()" class="vd-popoveritem mb-navlist" routerLink="/development"
       style="border-bottom: 1px solid #eee;"><a>发展之路</a></p>
    <p (click)="popoverHiding()" class="vd-popoveritem mb-navlist" routerLink="/profession"
       style="border-bottom: 1px solid #eee;"><a>职业菜单</a></p>
  </ng-container>
  <ng-container *ngIf="httpService.user">
    <p (click)="popoverHiding()" [ngClass]="{'mb-navlist': !httpService.devType}" class="vd-popoveritem"
       style="border-bottom: 1px solid #eee;"><a routerLink="/usercenter">个人中心</a></p>
    <p (click)="popoverHiding()" [ngClass]="{'mb-navlist': !httpService.devType}" class="vd-popoveritem"
       style="border-bottom: 1px solid #eee;"><a routerLink="/passport">修改密码</a></p>
    <p (click)="popoverHiding()" [ngClass]="{'mb-navlist': !httpService.devType}" class="vd-popoveritem"><a
      (click)="logout()">退出登录</a></p>
  </ng-container>
  <ng-container *ngIf="!httpService.devType && !httpService.user">
    <!--<p class="vd-popoveritem mb-navlist" style="border-bottom: 1px solid #eee;"-->
    <!--(click)="popoverHiding();showModal($event)">登录</p>-->
    <p (click)="popoverHiding()" class="vd-popoveritem mb-navlist" routerLink="/login" style="border-bottom: 1px solid #eee;"><a
      routerLink="/passport">登录</a></p>
    <p (click)="popoverHiding()" class="vd-popoveritem mb-navlist" routerLink="/register"><a
      routerLink="/passport">注册</a></p>
  </ng-container>
</ng-template>


<!-- 充值弹窗 -->
<nz-modal
  (nzOnCancel)="closeVipModal()"
  [(nzVisible)]="httpService.vipModal"
  [nzBodyStyle]="{padding: 0}"
  [nzFooter]="null"
  [nzTitle]=""
  [nzWidth]="360" nzClassName="loginModal">
  <div class="vd-login li-login">
    <h1>加入职场司南</h1>
    <br/>
    <p class="price"><span>{{httpService.price}}</span>&nbsp; 元 &nbsp; /24个月</p>

    <div class="pay-ways">
      <div (click)="changePayType('支付宝')" [ngClass]="{'selected':payType === '支付宝'}" class="pay-way">
        <img alt="" src="../assets/支付宝.svg">
        <span>支付宝</span>
      </div>

      <div (click)="changePayType('微信')" [hidden]="!httpService.devType" [ngClass]="{'selected':payType === '微信'}" class="pay-way">
        <img alt="" src="../assets/微信.svg">
        <span>微信</span>
      </div>

      <div (click)="changePayType('wechat')" [hidden]="httpService.devType" [ngClass]="{'selected':payType === 'wechat'}" class="pay-way">
        <img alt="" src="../assets/微信.svg">
        <span>微信</span>
      </div>
    </div>

    <div *ngIf="httpService.coupon" class="aui-flex clearfix selected">
      <div class="aui-price-nub">
        <div class="aui-digit">
          <h2>{{httpService.coupon.price}}  <span>元</span></h2>
        </div>
      </div>
      <div class="aui-flex-box">
        <h2>用户分享专属优惠券</h2>
        <div class="checkicon">
          <i [nzTheme]="'twotone'" [nzTwotoneColor]="'#ff5758'" [nzType]="'check-circle'" nz-icon></i>
        </div>
      </div>
    </div>

    <div class="promoCode" style="margin-bottom: 10px;width: 100%">
      <input #input="ngModel" (change)="checkPromoCode()" (input)="inputPromoCode()" [(ngModel)]="promoCode" [ngClass]="{'error-border': getPromoCodeStatus(input)}" maxlength="16" placeholder="请输入优惠码" style="width: 100%;padding: 10px" type="text"/>
    </div>

    <div class="price-detail" style="width: 100%">
      <p *ngIf="httpService.price && (httpService.coupon || promoCode)">原价： <font>￥ <span id="price">{{httpService.price}}</span></font></p>
      <p *ngIf="httpService.coupon">优惠券：<font>- ￥ <span id="price">{{httpService.coupon.price}}</span></font></p>
      <p *ngIf="paybtn && promoCode">优惠码：<font>- ￥ <span id="price">{{promoCodePrice}}</span></font></p>
      <p>合计：<font>￥ <span id="price">{{getPrice()}}</span></font></p>
    </div>
    <button (click)="httpService.pay(payType,promoCode, httpService.coupon)" [disabled]="!paybtn" nz-button nzBlock nzType="primary">去支付</button>
  </div>
</nz-modal>
<!-- <nz-modal [(nzVisible)]="shareModal" [nzStyle]="{ top: '50%', 'left': '50%', 'margin': '0', 'transform': 'translate(-50% -50%)', 'padding': '0' }" [nzTitle]="" [nzFooter]="null" nzClassName="loginModal" [nzWidth]="320" -->

<!--// 分享 弹窗-->
<nz-modal (nzOnCancel)="closeShareModal()"
          [(nzVisible)]="shareModal"
          [nzBodyStyle]="{padding: '30px'}" [nzFooter]="null"
          [nzStyle]="{'margin': '0 auto'}"
          [nzTitle]=""
          [nzWidth]="305"
          nzClassName="loginModal">
  <!-- <div class="bg-share"> -->
  <!--
  <a class="load_btn" (click)="loadSharePic()">
    <div class="download_btn"></div>
    保存到相册
  </a> -->
  <img [src]="qrcode" alt="" id="qrcode">
  <p style="text-align: center;">邀请好友成功，即可获得现金奖励</p>
  <button (click)="loadSharePic()" id="load_btn" nz-button nzShape="round" nzType="default">保存二维码</button>
  <!-- </div> -->
</nz-modal>


<!--// li 微信支付 扫码弹窗-->
<nz-modal (nzOnCancel)="httpService.weixinShow = false"
          [(nzVisible)]="httpService.weixinShow"
          [nzBodyStyle]="{padding: '30px'}" [nzFooter]="null"
          [nzStyle]="{'margin': '0 auto'}"
          [nzTitle]=""
          [nzWidth]="305"
          nzClassName="loginModal">
  <img [src]="httpService.weixinImgUrl" alt="" id="qrcode">
  <p style="text-align: center;">扫码支付</p>
  <!-- </div> -->
</nz-modal>


<div style="display: none;">
  <img alt="" id="code_bg" src="../assets/invite_bg.jpg" style="display: none;">
  <canvas height="1818" id="can1" width="1024"></canvas>
</div>
